<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="mystyles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spark</title>
    <style>
        .container {
          display: flex; /* Use flexbox */
        }
        
        .left-div {
          width: 35vw; /* Set width to 65% */
          height: 100vw;
          background-color:#666666ff;
          text-align:center;
          /* Add other styling properties as needed */
        }

        .right-div {
          width: 65vw; /* Set width to 35% */
          background-color: #ffe7e9;
          text-align:center;
          /* Add other styling properties as needed */
        }

        @media screen and (max-width: 700px) {
          .left-div {display: none;}
          .right-div {width: 100vw;}
        }
        
      </style>
</head>
<header>
    <p style="font-weight: bold; font-size: 2em; display: inline;">Spark </p>
	<p class="tagline"">The shortest circuit to your dream laptop</p> 
    <img src="profile.png" alt="Profile image" width="30" height="30" style="display: inline; float: right; margin-right:1%; margin-top:0.8%;">
    <img src="checkout.png" alt="Checkout image" width="30" height="30" style="display: inline; float: right;margin-right:1%;margin-top:0.8%">
</header>
<body>
    <div class="container">
        <div class="left-div">

          
        </div>
        <div class="right-div">

          <p class="text" style="font-weight:bold;color:black;font-size:2em;">Create your account</p><p></p>
          <form action="createprocess.php" autocomplete="off" onsubmit = "validateSignup()" method="post" id="signup-form" name="signup-form">
          <div class="name-container">
            <div class="fname">
              <input type="text" id="fname-entry" name="first" placeholder="First Name" style="width:70%;">
            </div>
            
            <div class="lname">
              <input type="text" id="lname-entry" name="last" placeholder="Last Name" style="width:70%;">
            </div>
          </div>
          <p></p>
            <br>
          <input type="email" id="email-entry" name="email" placeholder="Email address" style="width:50vw;" ><p></p><br>
          <input type="password" id="password-entry" name="password" placeholder="Password"style="width:50vw;"><p></p><br>
          <input type="password" id="password-reentry" name="text-entry" placeholder="Confirm Password"style="width:50vw;"><p></p>
          <div class = "error-box" style="display:none;">
              <p class = "error-text"></p>
          </div>
          <br>
          <button class = "box4" type="submit" >Create New</button>
          </form>
          <br>
          <p class="text" style="color:grey;font-size:1em;">Already have an account?
          <a href="login.php" style="font-weight:bold; color:black ;font-size:1em;">Sign in</a></p><p></p>
          

        </div>
    </div>

<script>
    var email = document.getElementById("email-entry");
    var password = document.getElementById("password-entry");
    var passwordReentry = document.getElementById("password-reentry");
    var fname = document.getElementById("fname-entry");
    var lname = document.getElementById("lname-entry");

    function validateSignup() {
      if (email.value == "" || password.value == "" || passwordReentry.value == "" || fname.value == "" || lname.value == "") {
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Please fill in all fields";
        return false;
      } else if (password.value != passwordReentry.value) {
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Passwords do not match";
        return false;
      } else if (password.value.length < 8) {
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Password must be at least 8 characters long";
        return false;
      } else if (validateEmail(email.value) == null){
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Invalid email address";
        return false;
      }
       else if (password.value.includes("password")) {
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Password cannot contain the word 'password'";
        return false;
      } else if (!/\d/.test(password.value)) {
        document.getElementsByClassName("error-box")[0].style.display = "block";
        document.getElementsByClassName("error-text")[0].innerHTML = "Password must contain a number";
        return false;
      }
      else {
        document.getElementsByClassName("error-box")[0].style.display = "none";
        return true;
      }
    }

    document.querySelector("form").addEventListener("submit", function(event) {
      event.preventDefault();
      if (validateSignup()) {
        document.getElementById("signup-form").submit();
      }
    });

    window.addEventListener("load", function() {
      document.getElementById("signup-form").reset();
    });

    const validateEmail = (email) => {
      return email.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);
};
</script>
</body>
</html>
